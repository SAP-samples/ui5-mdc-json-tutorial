{"version":3,"file":"Component-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":[],"sources":["Component-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}},{"offset":{"line":3,"column":0},"map":{"version":3,"file":"Component.js","names":["Component","UIComponent","extend"],"sources":["Component.ts"],"sourcesContent":["import UIComponent from \"sap/ui/core/UIComponent\"\n\n/**\n * @namespace mdc.tutorial\n */\nexport default class Component extends UIComponent {}"],"mappings":"AAAA,mEAEA,MAGqBA,EAAkBC,EAAWC,OAAA,oCAA7BF,CAAS","ignoreList":[],"sourceRoot":""}},{"offset":{"line":6,"column":0},"map":{"version":3,"file":"JSONFilterBarDelegate.js","names":["JSONPropertyInfo","_interopRequireDefault","__JSONPropertyInfo","JSONFilterBarDelegate","Object","assign","FilterBarDelegate","fetchProperties","async","_createValueHelp","filterBar","propertyKey","path","valueHelp","Fragment","load","name","getPayload","addDependent","_createFilterField","id","property","key","filterField","FilterField","dataType","conditions","required","label","maxConditions","delegate","payload","dependents","getDependents","find","dependent","getId","includes","setValueHelp","addItem","p","Element","getElementById"],"sources":["JSONFilterBarDelegate.ts"],"sourcesContent":["import FilterBarDelegate from \"sap/ui/mdc/FilterBarDelegate\"\nimport JSONPropertyInfo from \"mdc/tutorial/model/metadata/JSONPropertyInfo\"\nimport FilterField from \"sap/ui/mdc/FilterField\"\nimport Element from \"sap/ui/core/Element\"\nimport {default as FilterBar, PropertyInfo as FilterBarPropertyInfo} from \"sap/ui/mdc/FilterBar\"\nimport Fragment from \"sap/ui/core/Fragment\"\nimport ValueHelp from \"sap/ui/mdc/ValueHelp\"\n\ninterface FilterBarPayload {\n\tvalueHelp: {\n\t\t[key:string]: string\n\t}\n}\n\nvar JSONFilterBarDelegate = Object.assign({}, FilterBarDelegate)\n\nJSONFilterBarDelegate.fetchProperties = async () => JSONPropertyInfo\n\nconst _createValueHelp = async (filterBar:FilterBar, propertyKey:string) => {\n\tconst path = \"mdc.tutorial.view.fragment.\"\n\tconst valueHelp = await Fragment.load({\n\t\tname: path + (filterBar.getPayload() as FilterBarPayload).valueHelp[propertyKey]\n\t}) as unknown as ValueHelp\n\tfilterBar.addDependent(valueHelp)\n\treturn valueHelp\n}\n\nconst _createFilterField = async (id:string, property:FilterBarPropertyInfo, filterBar:FilterBar) => {\n\tconst propertyKey = property.key\n\tconst filterField = new FilterField(id, {\n\t\tdataType: property.dataType,\n\t\tconditions: `{$filters>/conditions/${propertyKey}}`,\n\t\tpropertyKey: propertyKey,\n\t\trequired: property.required,\n\t\tlabel: property.label,\n\t\tmaxConditions: property.maxConditions,\n\t\tdelegate: {name: \"sap/ui/mdc/field/FieldBaseDelegate\", payload: {}}\n\t})\n\tif ((filterBar.getPayload() as FilterBarPayload).valueHelp[propertyKey] ) {\n\t\tconst dependents = filterBar.getDependents()\n\t\tlet valueHelp = dependents.find((dependent) => dependent.getId().includes(propertyKey)) as ValueHelp\n\t\tvalueHelp ??= await _createValueHelp(filterBar, propertyKey)\n\t\tfilterField.setValueHelp(valueHelp)\n\t}\n\treturn filterField\n}\n\nJSONFilterBarDelegate.addItem = async (filterBar:FilterBar, propertyKey:string) => {\n\tconst property = JSONPropertyInfo.find((p) => p.key === propertyKey) as FilterBarPropertyInfo\n\tconst id = `${filterBar.getId()}--filter--${propertyKey}`\n\tconst filterField = Element.getElementById(id) as FilterField\n\treturn filterField ?? _createFilterField(id, property, filterBar)\n}\n\nexport default JSONFilterBarDelegate"],"mappings":"AAAA,4RACOA,EAAgBC,EAAAC,GAavB,IAAIC,EAAwBC,OAAOC,OAAO,CAAC,EAAGC,GAE9CH,EAAsBI,gBAAkBC,SAAYR,EAEpD,MAAMS,EAAmBD,MAAOE,EAAqBC,KACpD,MAAMC,EAAO,8BACb,MAAMC,QAAkBC,EAASC,KAAK,CACrCC,KAAMJ,EAAQF,EAAUO,aAAkCJ,UAAUF,KAErED,EAAUQ,aAAaL,GACvB,OAAOA,CAAS,EAGjB,MAAMM,EAAqBX,MAAOY,EAAWC,EAAgCX,KAC5E,MAAMC,EAAcU,EAASC,IAC7B,MAAMC,EAAc,IAAIC,EAAYJ,EAAI,CACvCK,SAAUJ,EAASI,SACnBC,WAAY,yBAAyBf,KACrCA,YAAaA,EACbgB,SAAUN,EAASM,SACnBC,MAAOP,EAASO,MAChBC,cAAeR,EAASQ,cACxBC,SAAU,CAACd,KAAM,qCAAsCe,QAAS,CAAC,KAElE,GAAKrB,EAAUO,aAAkCJ,UAAUF,GAAe,CACzE,MAAMqB,EAAatB,EAAUuB,gBAC7B,IAAIpB,EAAYmB,EAAWE,KAAMC,GAAcA,EAAUC,QAAQC,SAAS1B,IAC1EE,UAAoBJ,EAAiBC,EAAWC,GAChDY,EAAYe,aAAazB,EAC1B,CACA,OAAOU,CAAW,EAGnBpB,EAAsBoC,QAAU/B,MAAOE,EAAqBC,KAC3D,MAAMU,EAAWrB,EAAiBkC,KAAMM,GAAMA,EAAElB,MAAQX,GACxD,MAAMS,EAAK,GAAGV,EAAU0B,oBAAoBzB,IAC5C,MAAMY,EAAckB,EAAQC,eAAetB,GAC3C,OAAOG,GAAeJ,EAAmBC,EAAIC,EAAUX,EAAU,EACjE,OAEcP,CAAqB","ignoreList":[],"sourceRoot":"delegate"}},{"offset":{"line":9,"column":0},"map":{"version":3,"file":"JSONTableDelegate.js","names":["JSONPropertyInfo","_interopRequireDefault","__JSONPropertyInfo","JSONTableDelegate","Object","assign","TableDelegate","fetchProperties","async","filter","p","key","_createColumn","propertyInfo","table","name","id","getId","column","Element","getElementById","Column","propertyKey","header","label","template","Text","text","path","type","dataType","addItem","find","updateBindingInfo","bindingInfo","call","getPayload","bindingPath","templateShareable","_createSearchFilters","search","keys","filters","map","Filter","operator","FilterOperator","Contains","value1","getFilters","getFilter","getSearch","searchKeys","concat"],"sources":["JSONTableDelegate.ts"],"sourcesContent":["import TableDelegate from \"sap/ui/mdc/TableDelegate\"\nimport Text from \"sap/m/Text\"\nimport Element from \"sap/ui/core/Element\"\nimport JSONPropertyInfo from \"mdc/tutorial/model/metadata/JSONPropertyInfo\"\nimport {default as Table, PropertyInfo as TablePropertyInfo} from \"sap/ui/mdc/Table\"\nimport Column from \"sap/ui/mdc/table/Column\"\nimport Filter from \"sap/ui/model/Filter\"\nimport FilterOperator from \"sap/ui/model/FilterOperator\"\nimport FilterBar from \"sap/ui/mdc/FilterBar\"\ninterface TablePayload {\n\tbindingPath: string\n\tsearchKeys: string[]\n}\n\nconst JSONTableDelegate = Object.assign({}, TableDelegate)\n\nJSONTableDelegate.fetchProperties = async () => {\n\treturn JSONPropertyInfo.filter((p) => p.key !== \"$search\")\n}\n\nconst _createColumn = (propertyInfo:TablePropertyInfo, table:Table) => {\n\tconst name = propertyInfo.key\n\tconst id = table.getId() + \"---col-\" + name\n\tconst column = Element.getElementById(id) as Column\n\treturn column ?? new Column(id, {\n\t\tpropertyKey: name,\n\t\theader: propertyInfo.label,\n\t\ttemplate: new Text({\n\t\t\ttext: {\n\t\t\t\tpath: \"mountains>\" + name,\n\t\t\t\ttype: propertyInfo.dataType\n\t\t\t}\n\t\t})\n\t})\n}\n\nJSONTableDelegate.addItem = async (table:Table, propertyKey:string) => {\n\tconst propertyInfo = JSONPropertyInfo.find((p) => p.key === propertyKey)\n\treturn _createColumn(propertyInfo, table)\n}\n\nJSONTableDelegate.updateBindingInfo = (table, bindingInfo) => {\n\tTableDelegate.updateBindingInfo.call(JSONTableDelegate, table, bindingInfo)\n\tbindingInfo.path = (table.getPayload() as TablePayload).bindingPath\n\tbindingInfo.templateShareable = true\n}\n\nconst _createSearchFilters = (search:string, keys:string[]) => {\n\tconst filters = keys.map((key) => new Filter({\n\t\tpath: key,\n\t\toperator: FilterOperator.Contains,\n\t\tvalue1: search\n\t}))\n\treturn [new Filter(filters, false)]\n}\n\nJSONTableDelegate.getFilters = (table) => {\n\tconst search = (Element.getElementById(table.getFilter()) as FilterBar).getSearch()\n\tconst keys = (table.getPayload() as TablePayload).searchKeys\n\tlet filters = TableDelegate.getFilters(table)\n\tif (search && keys) {\n\t\tfilters = filters.concat(_createSearchFilters(search, keys))\n\t}\n\treturn filters\n}\n\nexport default JSONTableDelegate"],"mappings":"AAAA,uUAGOA,EAAgBC,EAAAC,GAWvB,MAAMC,EAAoBC,OAAOC,OAAO,CAAC,EAAGC,GAE5CH,EAAkBI,gBAAkBC,SAC5BR,EAAiBS,OAAQC,GAAMA,EAAEC,MAAQ,WAGjD,MAAMC,EAAgBA,CAACC,EAAgCC,KACtD,MAAMC,EAAOF,EAAaF,IAC1B,MAAMK,EAAKF,EAAMG,QAAU,UAAYF,EACvC,MAAMG,EAASC,EAAQC,eAAeJ,GACtC,OAAOE,GAAU,IAAIG,EAAOL,EAAI,CAC/BM,YAAaP,EACbQ,OAAQV,EAAaW,MACrBC,SAAU,IAAIC,EAAK,CAClBC,KAAM,CACLC,KAAM,aAAeb,EACrBc,KAAMhB,EAAaiB,aAGpB,EAGH3B,EAAkB4B,QAAUvB,MAAOM,EAAaQ,KAC/C,MAAMT,EAAeb,EAAiBgC,KAAMtB,GAAMA,EAAEC,MAAQW,GAC5D,OAAOV,EAAcC,EAAcC,EAAM,EAG1CX,EAAkB8B,kBAAoB,CAACnB,EAAOoB,KAC7C5B,EAAc2B,kBAAkBE,KAAKhC,EAAmBW,EAAOoB,GAC/DA,EAAYN,KAAQd,EAAMsB,aAA8BC,YACxDH,EAAYI,kBAAoB,IAAI,EAGrC,MAAMC,EAAuBA,CAACC,EAAeC,KAC5C,MAAMC,EAAUD,EAAKE,IAAKhC,GAAQ,IAAIiC,EAAO,CAC5ChB,KAAMjB,EACNkC,SAAUC,EAAeC,SACzBC,OAAQR,KAET,MAAO,CAAC,IAAII,EAAOF,EAAS,OAAO,EAGpCvC,EAAkB8C,WAAcnC,IAC/B,MAAM0B,EAAUrB,EAAQC,eAAeN,EAAMoC,aAA2BC,YACxE,MAAMV,EAAQ3B,EAAMsB,aAA8BgB,WAClD,IAAIV,EAAUpC,EAAc2C,WAAWnC,GACvC,GAAI0B,GAAUC,EAAM,CACnBC,EAAUA,EAAQW,OAAOd,EAAqBC,EAAQC,GACvD,CACA,OAAOC,CAAO,EACd,OAEcvC,CAAiB","ignoreList":[],"sourceRoot":"delegate"}},{"offset":{"line":13,"column":0},"map":{"version":3,"file":"JSONPropertyInfo.js","names":["__exports","key","label","visible","path","dataType","maxConditions"],"sources":["JSONPropertyInfo.ts"],"sourcesContent":["/**\n * @namespace mdc.tutorial.model.metadata\n * \n * Property Example:\n * {\n * \t  \"rank\": 1,\n * \t  \"name\": \"Mount Everest\",\n * \t  \"height\": 8848,\n * \t  \"prominence\": 8848,\n * \t  \"range\": \"Mahalangur Himalaya\",\n * \t  \"coordinates\": \"27°59'17''N 86°55'31''E\",\n * \t  \"parent_mountain\": \"-\",\n * \t  \"first_ascent\": 1953,\n * \t  \"countries\": \"Nepal, China\"\n * }\n */\nexport default [\n\t{\n\t\tkey: \"rank\",\n\t\tlabel: \"Rank\",\n\t\tvisible: true,\n\t\tpath: \"rank\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tkey: \"name\",\n\t\tlabel: \"Name\",\n\t\tvisible: true,\n\t\tpath: \"name\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tkey: \"height\",\n\t\tlabel: \"Height\",\n\t\tvisible: true,\n\t\tpath: \"height\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tkey: \"prominence\",\n\t\tlabel: \"Prominence\",\n\t\tvisible: true,\n\t\tpath: \"prominence\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tkey: \"range\",\n\t\tlabel: \"Range\",\n\t\tvisible: true,\n\t\tpath: \"range\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tkey: \"coordinates\",\n\t\tlabel: \"Coordinates\",\n\t\tvisible: true,\n\t\tpath: \"coordinates\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tkey: \"parent_mountain\",\n\t\tlabel: \"Parent Mountain\",\n\t\tvisible: true,\n\t\tpath: \"parent_mountain\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tkey: \"first_ascent\",\n\t\tlabel: \"First Ascent\",\n\t\tvisible: true,\n\t\tpath: \"first_ascent\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tkey: \"countries\",\n\t\tlabel: \"Countries\",\n\t\tvisible: true,\n\t\tpath: \"countries\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tkey: \"$search\",\n\t\tlabel: \"Search\",\n\t\tvisible: true,\n\t\tmaxConditions: 1,\n\t\tdataType: \"sap.ui.model.type.String\"\n\t}\n]"],"mappings":"AAAA,yCAAA,IAAAA,EAgBe,CACd,CACCC,IAAK,OACLC,MAAO,OACPC,QAAS,KACTC,KAAM,OACNC,SAAU,6BACT,CACDJ,IAAK,OACLC,MAAO,OACPC,QAAS,KACTC,KAAM,OACNC,SAAU,4BACT,CACDJ,IAAK,SACLC,MAAO,SACPC,QAAS,KACTC,KAAM,SACNC,SAAU,6BACT,CACDJ,IAAK,aACLC,MAAO,aACPC,QAAS,KACTC,KAAM,aACNC,SAAU,6BACT,CACDJ,IAAK,QACLC,MAAO,QACPC,QAAS,KACTC,KAAM,QACNC,SAAU,4BACT,CACDJ,IAAK,cACLC,MAAO,cACPC,QAAS,KACTC,KAAM,cACNC,SAAU,4BACT,CACDJ,IAAK,kBACLC,MAAO,kBACPC,QAAS,KACTC,KAAM,kBACNC,SAAU,4BACT,CACDJ,IAAK,eACLC,MAAO,eACPC,QAAS,KACTC,KAAM,eACNC,SAAU,6BACT,CACDJ,IAAK,YACLC,MAAO,YACPC,QAAS,KACTC,KAAM,YACNC,SAAU,4BACT,CACDJ,IAAK,UACLC,MAAO,SACPC,QAAS,KACTG,cAAe,EACfD,SAAU,6BAEX,OAAAL,CAAA","ignoreList":[],"sourceRoot":"model/metadata"}}]}