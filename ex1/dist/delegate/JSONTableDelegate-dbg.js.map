{"version":3,"file":"JSONTableDelegate-dbg.js","names":["JSONPropertyInfo","_interopRequireDefault","__JSONPropertyInfo","JSONTableDelegate","Object","assign","TableDelegate","fetchProperties","filter","p","key","_createColumn","propertyInfo","table","name","id","getId","column","Element","getElementById","Column","propertyKey","header","label","template","Text","text","path","type","dataType","addItem","find","updateBindingInfo","bindingInfo","call","getPayload","bindingPath","templateShareable"],"sources":["JSONTableDelegate.ts"],"sourcesContent":["import TableDelegate from \"sap/ui/mdc/TableDelegate\"\nimport Text from \"sap/m/Text\"\nimport Element from \"sap/ui/core/Element\"\nimport JSONPropertyInfo from \"mdc/tutorial/model/metadata/JSONPropertyInfo\"\nimport {default as Table, PropertyInfo as TablePropertyInfo} from \"sap/ui/mdc/Table\"\nimport Column from \"sap/ui/mdc/table/Column\"\n\ninterface TablePayload {\n\tbindingPath: string\n}\n\nconst JSONTableDelegate = Object.assign({}, TableDelegate)\n\nJSONTableDelegate.fetchProperties = async () => {\n\treturn JSONPropertyInfo.filter((p) => p.key !== \"$search\")\n}\n\nconst _createColumn = (propertyInfo:TablePropertyInfo, table:Table) => {\n\tconst name = propertyInfo.key\n\tconst id = table.getId() + \"---col-\" + name\n\tconst column = Element.getElementById(id) as Column\n\treturn column ?? new Column(id, {\n\t\tpropertyKey: name,\n\t\theader: propertyInfo.label,\n\t\ttemplate: new Text({\n\t\t\ttext: {\n\t\t\t\tpath: \"mountains>\" + name,\n\t\t\t\ttype: propertyInfo.dataType\n\t\t\t}\n\t\t})\n\t})\n}\n\nJSONTableDelegate.addItem = async (table:Table, propertyKey:string) => {\n\tconst propertyInfo = JSONPropertyInfo.find((p) => p.key === propertyKey)\n\treturn _createColumn(propertyInfo, table)\n}\n\nJSONTableDelegate.updateBindingInfo = (table, bindingInfo) => {\n\tTableDelegate.updateBindingInfo.call(JSONTableDelegate, table, bindingInfo)\n\tbindingInfo.path = (table.getPayload() as TablePayload).bindingPath\n\tbindingInfo.templateShareable = true\n}\n\nexport default JSONTableDelegate"],"mappings":";;;;;;QAGOA,gBAAgB,GAAAC,sBAAA,CAAAC,kBAAA;EAQvB,MAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEC,aAAa,CAAC;EAE1DH,iBAAiB,CAACI,eAAe,GAAG,YAAY;IAC/C,OAAOP,gBAAgB,CAACQ,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAK,SAAS,CAAC;EAC3D,CAAC;EAED,MAAMC,aAAa,GAAGA,CAACC,YAA8B,EAAEC,KAAW,KAAK;IACtE,MAAMC,IAAI,GAAGF,YAAY,CAACF,GAAG;IAC7B,MAAMK,EAAE,GAAGF,KAAK,CAACG,KAAK,CAAC,CAAC,GAAG,SAAS,GAAGF,IAAI;IAC3C,MAAMG,MAAM,GAAGC,OAAO,CAACC,cAAc,CAACJ,EAAE,CAAW;IACnD,OAAOE,MAAM,IAAI,IAAIG,MAAM,CAACL,EAAE,EAAE;MAC/BM,WAAW,EAAEP,IAAI;MACjBQ,MAAM,EAAEV,YAAY,CAACW,KAAK;MAC1BC,QAAQ,EAAE,IAAIC,IAAI,CAAC;QAClBC,IAAI,EAAE;UACLC,IAAI,EAAE,YAAY,GAAGb,IAAI;UACzBc,IAAI,EAAEhB,YAAY,CAACiB;QACpB;MACD,CAAC;IACF,CAAC,CAAC;EACH,CAAC;EAED1B,iBAAiB,CAAC2B,OAAO,GAAG,OAAOjB,KAAW,EAAEQ,WAAkB,KAAK;IACtE,MAAMT,YAAY,GAAGZ,gBAAgB,CAAC+B,IAAI,CAAEtB,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKW,WAAW,CAAC;IACxE,OAAOV,aAAa,CAACC,YAAY,EAAEC,KAAK,CAAC;EAC1C,CAAC;EAEDV,iBAAiB,CAAC6B,iBAAiB,GAAG,CAACnB,KAAK,EAAEoB,WAAW,KAAK;IAC7D3B,aAAa,CAAC0B,iBAAiB,CAACE,IAAI,CAAC/B,iBAAiB,EAAEU,KAAK,EAAEoB,WAAW,CAAC;IAC3EA,WAAW,CAACN,IAAI,GAAId,KAAK,CAACsB,UAAU,CAAC,CAAC,CAAkBC,WAAW;IACnEH,WAAW,CAACI,iBAAiB,GAAG,IAAI;EACrC,CAAC;EAAA,OAEclC,iBAAiB;AAAA","ignoreList":[]}